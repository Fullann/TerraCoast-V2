export type Language = 'fr' | 'en' | 'es' | 'de' | 'it' | 'pt';

export const translations: Record<Language, Record<string, string>> = {
  fr: {
    'app.title': 'Quiz Géo',
    'nav.home': 'Accueil',
    'nav.quizzes': 'Quiz',
    'nav.leaderboard': 'Classement',
    'nav.friends': 'Amis',
    'nav.duels': 'Duels',
    'nav.chat': 'Chat',
    'nav.profile': 'Profil',
    'nav.settings': 'Paramètres',
    'nav.admin': 'Admin',
    'nav.logout': 'Déconnexion',
    'auth.login': 'Connexion',
    'auth.register': 'Inscription',
    'auth.email': 'Email',
    'auth.password': 'Mot de passe',
    'auth.pseudo': 'Pseudo',
    'auth.confirmPassword': 'Confirmer le mot de passe',
    'quiz.create': 'Créer un quiz',
    'quiz.edit': 'Modifier',
    'quiz.delete': 'Supprimer',
    'quiz.play': 'Jouer',
    'quiz.share': 'Partager',
    'quiz.publish': 'Publier',
    'quiz.title': 'Titre',
    'quiz.description': 'Description',
    'quiz.category': 'Catégorie',
    'quiz.difficulty': 'Difficulté',
    'quiz.language': 'Langue',
    'quiz.questions': 'Questions',
    'quiz.submit': 'Valider',
    'quiz.next': 'Suivant',
    'quiz.finish': 'Terminer',
    'quiz.replay': 'Rejouer',
    'quiz.explore': "Explorer d'autres quiz",
    'settings.language': 'Langue',
    'settings.showAllLanguages': 'Afficher tous les quiz (toutes langues)',
    'settings.showOnlyMyLanguage': 'Afficher uniquement les quiz dans ma langue',
    'common.save': 'Enregistrer',
    'common.cancel': 'Annuler',
    'common.loading': 'Chargement...',
    'common.error': 'Erreur',
    'common.success': 'Succès',
  },
  en: {
    'app.title': 'Geo Quiz',
    'nav.home': 'Home',
    'nav.quizzes': 'Quizzes',
    'nav.leaderboard': 'Leaderboard',
    'nav.friends': 'Friends',
    'nav.duels': 'Duels',
    'nav.chat': 'Chat',
    'nav.profile': 'Profile',
    'nav.settings': 'Settings',
    'nav.admin': 'Admin',
    'nav.logout': 'Logout',
    'auth.login': 'Login',
    'auth.register': 'Sign Up',
    'auth.email': 'Email',
    'auth.password': 'Password',
    'auth.pseudo': 'Username',
    'auth.confirmPassword': 'Confirm Password',
    'quiz.create': 'Create Quiz',
    'quiz.edit': 'Edit',
    'quiz.delete': 'Delete',
    'quiz.play': 'Play',
    'quiz.share': 'Share',
    'quiz.publish': 'Publish',
    'quiz.title': 'Title',
    'quiz.description': 'Description',
    'quiz.category': 'Category',
    'quiz.difficulty': 'Difficulty',
    'quiz.language': 'Language',
    'quiz.questions': 'Questions',
    'quiz.submit': 'Submit',
    'quiz.next': 'Next',
    'quiz.finish': 'Finish',
    'quiz.replay': 'Replay',
    'quiz.explore': 'Explore other quizzes',
    'settings.language': 'Language',
    'settings.showAllLanguages': 'Show all quizzes (all languages)',
    'settings.showOnlyMyLanguage': 'Show only quizzes in my language',
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
  },
  es: {
    'app.title': 'Quiz Geo',
    'nav.home': 'Inicio',
    'nav.quizzes': 'Cuestionarios',
    'nav.leaderboard': 'Clasificación',
    'nav.friends': 'Amigos',
    'nav.duels': 'Duelos',
    'nav.chat': 'Chat',
    'nav.profile': 'Perfil',
    'nav.settings': 'Configuración',
    'nav.admin': 'Admin',
    'nav.logout': 'Cerrar sesión',
    'auth.login': 'Iniciar sesión',
    'auth.register': 'Registrarse',
    'auth.email': 'Correo electrónico',
    'auth.password': 'Contraseña',
    'auth.pseudo': 'Nombre de usuario',
    'auth.confirmPassword': 'Confirmar contraseña',
    'quiz.create': 'Crear cuestionario',
    'quiz.edit': 'Editar',
    'quiz.delete': 'Eliminar',
    'quiz.play': 'Jugar',
    'quiz.share': 'Compartir',
    'quiz.publish': 'Publicar',
    'quiz.title': 'Título',
    'quiz.description': 'Descripción',
    'quiz.category': 'Categoría',
    'quiz.difficulty': 'Dificultad',
    'quiz.language': 'Idioma',
    'quiz.questions': 'Preguntas',
    'quiz.submit': 'Enviar',
    'quiz.next': 'Siguiente',
    'quiz.finish': 'Terminar',
    'quiz.replay': 'Volver a jugar',
    'quiz.explore': 'Explorar otros cuestionarios',
    'settings.language': 'Idioma',
    'settings.showAllLanguages': 'Mostrar todos los cuestionarios (todos los idiomas)',
    'settings.showOnlyMyLanguage': 'Mostrar solo cuestionarios en mi idioma',
    'common.save': 'Guardar',
    'common.cancel': 'Cancelar',
    'common.loading': 'Cargando...',
    'common.error': 'Error',
    'common.success': 'Éxito',
  },
  de: {
    'app.title': 'Geo Quiz',
    'nav.home': 'Startseite',
    'nav.quizzes': 'Quiz',
    'nav.leaderboard': 'Bestenliste',
    'nav.friends': 'Freunde',
    'nav.duels': 'Duelle',
    'nav.chat': 'Chat',
    'nav.profile': 'Profil',
    'nav.settings': 'Einstellungen',
    'nav.admin': 'Admin',
    'nav.logout': 'Abmelden',
    'auth.login': 'Anmelden',
    'auth.register': 'Registrieren',
    'auth.email': 'E-Mail',
    'auth.password': 'Passwort',
    'auth.pseudo': 'Benutzername',
    'auth.confirmPassword': 'Passwort bestätigen',
    'quiz.create': 'Quiz erstellen',
    'quiz.edit': 'Bearbeiten',
    'quiz.delete': 'Löschen',
    'quiz.play': 'Spielen',
    'quiz.share': 'Teilen',
    'quiz.publish': 'Veröffentlichen',
    'quiz.title': 'Titel',
    'quiz.description': 'Beschreibung',
    'quiz.category': 'Kategorie',
    'quiz.difficulty': 'Schwierigkeit',
    'quiz.language': 'Sprache',
    'quiz.questions': 'Fragen',
    'quiz.submit': 'Absenden',
    'quiz.next': 'Weiter',
    'quiz.finish': 'Beenden',
    'quiz.replay': 'Nochmal spielen',
    'quiz.explore': 'Andere Quiz erkunden',
    'settings.language': 'Sprache',
    'settings.showAllLanguages': 'Alle Quiz anzeigen (alle Sprachen)',
    'settings.showOnlyMyLanguage': 'Nur Quiz in meiner Sprache anzeigen',
    'common.save': 'Speichern',
    'common.cancel': 'Abbrechen',
    'common.loading': 'Laden...',
    'common.error': 'Fehler',
    'common.success': 'Erfolg',
  },
  it: {
    'app.title': 'Quiz Geo',
    'nav.home': 'Home',
    'nav.quizzes': 'Quiz',
    'nav.leaderboard': 'Classifica',
    'nav.friends': 'Amici',
    'nav.duels': 'Duelli',
    'nav.chat': 'Chat',
    'nav.profile': 'Profilo',
    'nav.settings': 'Impostazioni',
    'nav.admin': 'Admin',
    'nav.logout': 'Disconnetti',
    'auth.login': 'Accedi',
    'auth.register': 'Registrati',
    'auth.email': 'Email',
    'auth.password': 'Password',
    'auth.pseudo': 'Nome utente',
    'auth.confirmPassword': 'Conferma password',
    'quiz.create': 'Crea quiz',
    'quiz.edit': 'Modifica',
    'quiz.delete': 'Elimina',
    'quiz.play': 'Gioca',
    'quiz.share': 'Condividi',
    'quiz.publish': 'Pubblica',
    'quiz.title': 'Titolo',
    'quiz.description': 'Descrizione',
    'quiz.category': 'Categoria',
    'quiz.difficulty': 'Difficoltà',
    'quiz.language': 'Lingua',
    'quiz.questions': 'Domande',
    'quiz.submit': 'Invia',
    'quiz.next': 'Avanti',
    'quiz.finish': 'Termina',
    'quiz.replay': 'Rigioca',
    'quiz.explore': 'Esplora altri quiz',
    'settings.language': 'Lingua',
    'settings.showAllLanguages': 'Mostra tutti i quiz (tutte le lingue)',
    'settings.showOnlyMyLanguage': 'Mostra solo quiz nella mia lingua',
    'common.save': 'Salva',
    'common.cancel': 'Annulla',
    'common.loading': 'Caricamento...',
    'common.error': 'Errore',
    'common.success': 'Successo',
  },
  pt: {
    'app.title': 'Quiz Geo',
    'nav.home': 'Início',
    'nav.quizzes': 'Questionários',
    'nav.leaderboard': 'Classificação',
    'nav.friends': 'Amigos',
    'nav.duels': 'Duelos',
    'nav.chat': 'Chat',
    'nav.profile': 'Perfil',
    'nav.settings': 'Configurações',
    'nav.admin': 'Admin',
    'nav.logout': 'Sair',
    'auth.login': 'Entrar',
    'auth.register': 'Cadastrar',
    'auth.email': 'Email',
    'auth.password': 'Senha',
    'auth.pseudo': 'Nome de usuário',
    'auth.confirmPassword': 'Confirmar senha',
    'quiz.create': 'Criar questionário',
    'quiz.edit': 'Editar',
    'quiz.delete': 'Excluir',
    'quiz.play': 'Jogar',
    'quiz.share': 'Compartilhar',
    'quiz.publish': 'Publicar',
    'quiz.title': 'Título',
    'quiz.description': 'Descrição',
    'quiz.category': 'Categoria',
    'quiz.difficulty': 'Dificuldade',
    'quiz.language': 'Idioma',
    'quiz.questions': 'Perguntas',
    'quiz.submit': 'Enviar',
    'quiz.next': 'Próximo',
    'quiz.finish': 'Terminar',
    'quiz.replay': 'Jogar novamente',
    'quiz.explore': 'Explorar outros questionários',
    'settings.language': 'Idioma',
    'settings.showAllLanguages': 'Mostrar todos os questionários (todos os idiomas)',
    'settings.showOnlyMyLanguage': 'Mostrar apenas questionários no meu idioma',
    'common.save': 'Salvar',
    'common.cancel': 'Cancelar',
    'common.loading': 'Carregando...',
    'common.error': 'Erro',
    'common.success': 'Sucesso',
  },
};

export const languageNames: Record<Language, string> = {
  fr: 'Français',
  en: 'English',
  es: 'Español',
  de: 'Deutsch',
  it: 'Italiano',
  pt: 'Português',
};

export function detectUserLanguage(): Language {
  const browserLang = navigator.language.toLowerCase().split('-')[0];
  const supported: Language[] = ['fr', 'en', 'es', 'de', 'it', 'pt'];

  if (supported.includes(browserLang as Language)) {
    return browserLang as Language;
  }

  return 'fr';
}

export function translate(key: string, language: Language): string {
  return translations[language]?.[key] || key;
}
